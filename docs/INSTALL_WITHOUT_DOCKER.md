# üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ë–ï–ó Docker

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ PostgreSQL –∏ Redis –Ω–∞ Windows –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker.

---

## 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL

### –®–∞–≥ 1: –°–∫–∞—á–∞—Ç—å PostgreSQL

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: https://www.postgresql.org/download/windows/
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º–æ–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫: https://www.enterprisedb.com/downloads/postgres-postgresql-downloads
3. –°–∫–∞—á–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –¥–ª—è Windows (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è 14 –∏–ª–∏ –≤—ã—à–µ)

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
2. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
   - **–ü–æ—Ä—Ç:** –û—Å—Ç–∞–≤—å—Ç–µ `5432` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - **–ü–∞—Ä–æ–ª—å:** –ó–∞–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres` (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ó–ê–ü–û–ú–ù–ò–¢–ï!)
   - **–õ–æ–∫–∞–ª—å:** –û—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–°–ø–æ—Å–æ–± A: –ß–µ—Ä–µ–∑ pgAdmin (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ **pgAdmin 4** –∏–∑ –º–µ–Ω—é –ü—É—Å–∫
2. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (–æ–±—ã—á–Ω–æ "PostgreSQL 14" –∏–ª–∏ –ø–æ–¥–æ–±–Ω–æ–µ)
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–¥–∞–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
4. –†–∞—Å–∫—Ä–æ–π—Ç–µ —Å–µ—Ä–≤–µ—Ä ‚Üí –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ "Databases" ‚Üí "Create" ‚Üí "Database"
5. –í –ø–æ–ª–µ "Database" –≤–≤–µ–¥–∏—Ç–µ: `polymarket`
6. –ù–∞–∂–º–∏—Ç–µ "Save"

**–°–ø–æ—Å–æ–± B: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (psql)**

1. –û—Ç–∫—Ä–æ–π—Ç–µ "SQL Shell (psql)" –∏–∑ –º–µ–Ω—é –ü—É—Å–∫
2. –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–µ—Ä–≤–µ—Ä, –±–∞–∑–∞, –ø–æ—Ä—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
3. –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres`
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```sql
   CREATE DATABASE polymarket;
   ```
5. –í–≤–µ–¥–∏—Ç–µ `\q` –¥–ª—è –≤—ã—Ö–æ–¥–∞

**–°–ø–æ—Å–æ–± C: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É Windows**

```bash
# –ù–∞–π–¥–∏—Ç–µ –ø—É—Ç—å –∫ psql (–æ–±—ã—á–Ω–æ –≤ Program Files)
cd "C:\Program Files\PostgreSQL\14\bin"

# –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
psql.exe -U postgres -c "CREATE DATABASE polymarket;"
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–û—Ç–∫—Ä–æ–π—Ç–µ `apps/backend/.env` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ:

```env
DATABASE_URL=postgresql://postgres:–í–ê–®_–ü–ê–†–û–õ–¨@localhost:5432/polymarket?schema=public
```

–ó–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_–ü–ê–†–û–õ–¨` –Ω–∞ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–¥–∞–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ PostgreSQL.

---

## 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)

**‚ö†Ô∏è –í–ê–ñ–ù–û: Redis –ù–ï –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞!**

Backend –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ Redis, –ø—Ä–æ—Å—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–æ. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

### –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis:

#### –í–∞—Ä–∏–∞–Ω—Ç A: Memurai (Windows-–≤–µ—Ä—Å–∏—è Redis)

1. –°–∫–∞—á–∞–π—Ç–µ Memurai: https://www.memurai.com/get-memurai
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Memurai (—ç—Ç–æ Windows-–≤–µ—Ä—Å–∏—è Redis)
3. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–ª—É–∂–±–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. –í `apps/backend/.env` –æ—Å—Ç–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∫ –µ—Å—Ç—å:
   ```env
   REDIS_HOST=localhost
   REDIS_PORT=6379
   ```

#### –í–∞—Ä–∏–∞–Ω—Ç B: WSL2 (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω WSL2:

```bash
# –í WSL2 —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
sudo apt update
sudo apt install redis-server
redis-server
```

#### –í–∞—Ä–∏–∞–Ω—Ç C: –†–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ Redis

–ü—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Redis –≤ `.env` –∫–∞–∫ –µ—Å—Ç—å. Backend –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è, –Ω–æ –µ—Å–ª–∏ Redis –Ω–µ –∑–∞–ø—É—â–µ–Ω - –ø—Ä–æ—Å—Ç–æ –Ω–µ –±—É–¥–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!

---

## 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ PostgreSQL

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ SQL Shell (psql)
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
\l
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `polymarket`.

–ò–ª–∏ —á–µ—Ä–µ–∑ pgAdmin:
- –û—Ç–∫—Ä–æ–π—Ç–µ pgAdmin
- –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ `polymarket` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Memurai, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ª—É–∂–±—É:
# Win + R ‚Üí services.msc ‚Üí –Ω–∞–π–¥–∏—Ç–µ "Memurai" ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Running"
```

---

## 4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL –∏ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```bash
cd apps/backend

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run prisma:generate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
npm run prisma:migrate

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
npm run prisma:seed
```

---

## 5. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
npm run dev

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
npm run dev:backend      # http://localhost:3000/api
npm run dev:mini-app     # http://localhost:5173
npm run dev:web-dashboard # http://localhost:3001
npm run dev:telegram-bot
```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "password authentication failed"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è –≤ `DATABASE_URL`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–∞—Ä–æ–ª—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `postgres`

### –ü—Ä–æ–±–ª–µ–º–∞: "database does not exist"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `polymarket` —Å–æ–∑–¥–∞–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ pgAdmin –∏–ª–∏ `psql`

### –ü—Ä–æ–±–ª–µ–º–∞: "connection refused" –∏–ª–∏ "could not connect"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω:
   - Win + R ‚Üí `services.msc` ‚Üí –Ω–∞–π–¥–∏—Ç–µ "postgresql" ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "Running"
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 5432:
   ```bash
   netstat -ano | findstr :5432
   ```
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ö–æ—Å—Ç: `localhost` –∏–ª–∏ `127.0.0.1`

### –ü—Ä–æ–±–ª–µ–º–∞: Redis connection error (–µ—Å–ª–∏ Redis –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

**–†–µ—à–µ–Ω–∏–µ:**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ! Backend –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ Redis
- –ü—Ä–æ—Å—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–æ
- –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Memurai (—Å–º. –≤—ã—à–µ)

### –ü—Ä–æ–±–ª–µ–º–∞: Prisma –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DATABASE_URL` –≤ `apps/backend/.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `polymarket` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ pgAdmin –∏–ª–∏ psql

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ï—Å–ª–∏ PostgreSQL —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite:

1. –í `apps/backend/prisma/schema.prisma` –∏–∑–º–µ–Ω–∏—Ç–µ:
   ```prisma
   datasource db {
     provider = "sqlite"
     url      = "file:./dev.db"
   }
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ `.env`:
   ```env
   DATABASE_URL="file:./dev.db"
   ```

3. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```bash
   cd apps/backend
   npm run prisma:generate
   npm run prisma:migrate
   ```

**‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ:** SQLite –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production!

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [PostgreSQL –¥–ª—è Windows](https://www.postgresql.org/download/windows/)
- [Memurai (Redis –¥–ª—è Windows)](https://www.memurai.com/)
- [pgAdmin –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.pgadmin.org/docs/)
- [Prisma –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.prisma.io/docs/)

---

**–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ [START_HERE.md](../START_HERE.md) –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.**

