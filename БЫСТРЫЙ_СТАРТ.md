# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–æ–≤ –∏ –¥–µ–ø–ª–æ–π

## üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ .env —Ñ–∞–π–ª—ã

–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ:

### 1. `apps/backend/.env`

```env
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/polymarket?schema=public

# JWT –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: openssl rand -base64 32)
JWT_SECRET=your-secret-key-min-32-characters-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# –°–µ—Ä–≤–µ—Ä
PORT=3002
NODE_ENV=development
CORS_ORIGIN=http://localhost:5173,http://localhost:3001

# Telegram Bot (–ø–æ–ª—É—á–∏—Ç–µ –æ—Ç @BotFather)
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-from-botfather
TELEGRAM_BOT_USERNAME=your_bot_username

# TON API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞ tonapi.io)
TON_API_URL=https://tonapi.io
TON_API_KEY=
TON_WEBHOOK_SECRET=
TON_SYSTEM_WALLET_ADDRESS=

# Telegram Wallet (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_WALLET_WEBHOOK_SECRET=
TELEGRAM_WALLET_PROVIDER_TOKEN=

# Telegram Stars (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_STARS_WEBHOOK_SECRET=

# Mini App URL
MINI_APP_URL=http://localhost:5173
```

### 2. `apps/mini-app/.env`

```env
# Backend API URL (–≤ Vite –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å VITE_)
VITE_API_URL=http://localhost:3002/api
```

### 3. `apps/telegram-bot/.env`

```env
# Telegram Bot Token (—Ç–æ—Ç –∂–µ, —á—Ç–æ –≤ backend)
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-from-botfather

# Backend API URL
API_URL=http://localhost:3002/api

# Mini App URL
MINI_APP_URL=http://localhost:5173

# Node Environment
NODE_ENV=development
```

### 4. `apps/web-dashboard/.env.local`

```env
# Backend API URL (–≤ Next.js –ø—É–±–ª–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å NEXT_PUBLIC_)
NEXT_PUBLIC_API_URL=http://localhost:3002/api
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º—É –¥–µ–ø–ª–æ—é (Railway –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç)

### ‚≠ê –í–∞—Ä–∏–∞–Ω—Ç 1: Render.com (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

**–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –∏–¥–µ–∞–ª—å–Ω–æ!**

1. **Backend + PostgreSQL:**
   - –°–æ–∑–¥–∞–π—Ç–µ Web Service –Ω–∞ [render.com](https://render.com)
   - –î–æ–±–∞–≤—å—Ç–µ PostgreSQL database (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
   - Build: `npm install && npm run build --workspace=@polymarket/backend`
   - Start: `cd apps/backend && npm run start:prod`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `DATABASE_URL` –∏–∑ PostgreSQL

2. **Mini App:**
   - –°–æ–∑–¥–∞–π—Ç–µ Static Site
   - Build: `cd apps/mini-app && npm install && npm run build`
   - Publish: `apps/mini-app/dist`
   - Env: `VITE_API_URL=https://your-backend.onrender.com/api`

3. **Web Dashboard:**
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Mini App
   - Build: `cd apps/web-dashboard && npm install && npm run build`
   - Publish: `apps/web-dashboard/.next`
   - Env: `NEXT_PUBLIC_API_URL=https://your-backend.onrender.com/api`

4. **Telegram Bot:**
   - –°–æ–∑–¥–∞–π—Ç–µ Background Worker
   - Start: `cd apps/telegram-bot && npm run start`

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0/–º–µ—Å—è—Ü (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ)

---

### ‚≠ê –í–∞—Ä–∏–∞–Ω—Ç 2: Fly.io (–ª—É—á—à–µ –¥–ª—è production) ‚úÖ –ì–û–¢–û–í–û!

**–ù–µ –∑–∞—Å—ã–ø–∞–µ—Ç, –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç**

**üéâ –í—Å–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

**–ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:**
- ‚úÖ Dockerfile –¥–ª—è –≤—Å–µ—Ö 4 —Å–µ—Ä–≤–∏—Å–æ–≤ (Backend, Mini App, Dashboard, Telegram Bot)
- ‚úÖ fly.toml –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–µ–ø–ª–æ—è (Bash –∏ PowerShell)
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- ‚úÖ .dockerignore –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Fly CLI:
   
   **Windows (PowerShell) - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É:**
   ```powershell
   iwr https://fly.io/install.ps1 -useb | iex
   ```
   
   **macOS/Linux:**
   ```bash
   curl -L https://fly.io/install.sh | sh
   ```
   
   ‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è Windows:** –ö–æ–º–∞–Ω–¥–∞ `curl ... | sh` –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ PowerShell! –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `iwr ... | iex`

2. –õ–æ–≥–∏–Ω: `fly auth login`

3. **–°–ª–µ–¥—É–π—Ç–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** –°–º. **[DEPLOY_FLY_IO.md](./DEPLOY_FLY_IO.md)**

**–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:**
```bash
# Linux/Mac
chmod +x scripts/deploy-fly.sh
./scripts/deploy-fly.sh

# Windows (PowerShell)
.\scripts\deploy-fly.ps1
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –∑–∞—Å—ã–ø–∞—é—Ç
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–µ—Ç—å (–±—ã—Å—Ç—Ä–æ)
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è PostgreSQL –¥–æ—Å—Ç—É–ø–Ω–∞
- ‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0/–º–µ—Å—è—Ü (–µ—Å–ª–∏ —É–∫–ª–∞–¥—ã–≤–∞–µ—Ç–µ—Å—å –≤ –ª–∏–º–∏—Ç—ã)

**üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [DEPLOY_FLY_IO.md](./DEPLOY_FLY_IO.md)

---

### ‚≠ê –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π)

**Frontend –Ω–∞ Vercel, Backend –Ω–∞ Fly.io/Render**

- **Backend:** Fly.io –∏–ª–∏ Render.com
- **Mini App:** Vercel (Static Site)
- **Web Dashboard:** Vercel (Next.js)
- **Telegram Bot:** Fly.io –∏–ª–∏ Render.com
- **Database:** Neon –∏–ª–∏ Supabase (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è PostgreSQL)

**–ü–ª—é—Å—ã:**
- ‚úÖ –õ—É—á—à–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è frontend
- ‚úÖ –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –í—Å–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìù –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Render.com

### 1. Backend

```
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ render.com ‚Üí New ‚Üí Web Service
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Name: polymarket-backend
   - Environment: Node
   - Build Command: npm install && npm run build --workspace=@polymarket/backend
   - Start Command: cd apps/backend && npm run start:prod
4. –°–æ–∑–¥–∞–π—Ç–µ PostgreSQL (New ‚Üí PostgreSQL)
5. –î–æ–±–∞–≤—å—Ç–µ Environment Variables:
   - DATABASE_URL (–∏–∑ PostgreSQL)
   - JWT_SECRET (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ)
   - TELEGRAM_BOT_TOKEN
   - PORT=3002
   - NODE_ENV=production
   - CORS_ORIGIN=https://your-mini-app.onrender.com
   - MINI_APP_URL=https://your-mini-app.onrender.com
6. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SSH:
   cd apps/backend && npm run prisma:generate && npm run prisma:migrate deploy
```

### 2. Mini App

```
1. New ‚Üí Static Site
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub
3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - Build Command: cd apps/mini-app && npm install && npm run build
   - Publish Directory: apps/mini-app/dist
4. Environment Variables:
   - VITE_API_URL=https://your-backend.onrender.com/api
```

### 3. Web Dashboard

```
1. –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Mini App
2. Build Command: cd apps/web-dashboard && npm install && npm run build
3. Publish Directory: apps/web-dashboard/.next
4. Environment Variables:
   - NEXT_PUBLIC_API_URL=https://your-backend.onrender.com/api
```

### 4. Telegram Bot

```
1. New ‚Üí Background Worker
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub
3. Start Command: cd apps/telegram-bot && npm run start
4. Environment Variables:
   - TELEGRAM_BOT_TOKEN
   - API_URL=https://your-backend.onrender.com/api
   - MINI_APP_URL=https://your-mini-app.onrender.com
   - NODE_ENV=production
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [ENV_FILES_AND_DEPLOYMENT.md](./ENV_FILES_AND_DEPLOYMENT.md)
- **Render.com:** https://render.com
- **Fly.io:** https://fly.io
- **Vercel:** https://vercel.com
- **Supabase (PostgreSQL):** https://supabase.com
- **Neon (PostgreSQL):** https://neon.tech

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env —Ñ–∞–π–ª—ã –≤ git** (–æ–Ω–∏ —É–∂–µ –≤ .gitignore)
2. **–°–æ–∑–¥–∞–π—Ç–µ .env.example —Ñ–∞–π–ª—ã** –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è dev/prod**
4. **–ù–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Environment Variables**, –∞ –Ω–µ .env —Ñ–∞–π–ª—ã

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, –∫–∞–∫–∏–µ .env —Ñ–∞–π–ª—ã –Ω—É–∂–Ω—ã –∏ –∫—É–¥–∞ –º–æ–∂–Ω–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ. üéâ
